\section{Parametrization of Clouds} \label{sec:param_clouds}
%\textit{In doing so, we do not include the effects of changes to the cloud microphysics explicitly.} Building a model based on meteorological variables provided by a reliable estimate from reanalysis datasets.
All global climate simulations are limited by computational power and the typical model grids are much too coarse to resolve all relevant processes governing clouds. Parameterization allows us to nevertheless simulate the effects of clouds on the climate, through simplified representations of cloud processes that are a function of resolved model variables. The development of both observational and modeling systems requires an understanding of the physical and biogeochemical processes that take place in the Earth system (\cite{Simmons2016Observation2016-2025}). New descriptions of mechanisms are implemented into models and tested against observations. The simulations should be able to recreate previous climate. 

The complex nature of clouds originates from lots of different processes occurring simultaneously on different scales. Incorporating all these interactions into a model framework has proven to be difficult (\cite{IPCC_CH7_clouds}, pp. 584)
%This area has received a lot of attention the last few years. A consequence of increasing the complexity of the models is the trailing increase in uncertainty. Popular approaches are saturation threshold, \acrfull{pdf} and \acrfull{crm}. 
%In the literature is common to distinguish/\textbf{discuss} between prognostic and diagnostic variables/\textbf{schemes}. 
%A prognostic variable predicts the values for other variables in the future, while a disagnostic variable is time-independant or links values they have on identical times.

\subsection{Relative Humidity and Statistical Schemes}
The simplest form of cloud scheme is a binary. A model grid box is either cloudy or clear. Equation \eqref{eq:binary_param_clouds} describes a diagnostic relationship between cloud cover and relative humidity. Binary saturation threshold can be implemented as follows,
\begin{equation} \label{eq:binary_param_clouds}
    CFC\left(RH\right) = 
     \begin{cases}
       \text{0,} &\quad\text{if RH}\le100\\
       \text{1,} &\quad\text{else}
     \end{cases}
\end{equation}
Many high-resolution model apply this approach, but it is not suitable for \acrshort{esm} having spatial resolution in the scale of 100km (\cite{Tomkins2005}).

Most climate models have a cloud fractional cover, which is driven by a saturation threshold. All the vapor in excess of this threshold, often $RH=100\%$, gets transformed into cloud liquid water. An assumption of sub-grid scale variability is necessary to achieve fractional cloud cover. %The most common variable is relative huimdity, this often appear in combination with 
The most common variables either alone or in combination are relative humidity, temperature and vertical velocity (\cite{Golaz2002_part1}). 
Using a fixed threshold for the critical relative humidity is a necessary, but rough simplification.

In statistical schemes relative humidity and other dependent variables are simulated using \acrfull{pdf}. The distribution are difficult to obtain theoretically. A common approach is to draw these distributions empirically, based on observations from weather balloons or airplane campaigns. In this way the functional form of the underlying distributions have a physical basis. Observations have been made during varying cloud conditions and almost all existing \acrshort{pdf}s have been used in statistical cloud schemes. The parameterization is then very sensitive to the choice of moments, i.e. mean, variance, skewness and kurtosis. Employing fixed moments in a statistical scheme simplifies to relative humidity schemes (\cite{Tomkins2005}). Researchers have not been successful in finding an adequate representation of cloud cover using these approaches (\cite{Tompkins2009CloudParametrization}). 

\citepaper{Golaz2002_part1} derived a joint \acrshort{pdf} of the subgrid-scale variability, serving as the base for parameterizing boundary layer clouds. This scheme is implemented in \acrfull{noresm} (\cite{SelandNORESM}) and \acrfull{cesm} (\cite{DanabasogluCESM}), two recognized \acrshort{esm}. The parameterization can be considered a higher-order turbulent closure problem. The first (mean), second (variance) and third (skewness) order statistical moments, of the vertical velocity ($w$), the liquid water potential temperature ($\theta_l$), and the total water specific humidity ($q_t$) determines the family of \acrshort{pdf}s. It is designed to be flexible enough to 
%(avoid the use of) 
circumvent the case specific adjustment (\cite{Golaz2002_part1}, \cite{Golaz2002_part2}). 

\subsection{Cloud resolving models} \label{sec:params_climate_models}
Another method of cloud parameterization is deriving relationships from \acrfull{crm}-models. These relationships again be implemented into global climate models. Contrary to what the name implies, this type of model still has problems with resolving the very smallest cloud processes, occurring on micrometer-scales. 
\acrshort{crm}'s are computationally expensive and can only be run for a short amount of time. One weakness of this approach is the dependancy of the \acrshort{crm}-models own parametrizations of microphysics (\cite{Tomkins2005}). %\citepaper{Rasp2018DeepModels} reported successful training a 9-layer fully connected neural network for parameterizing X, once trainded it replace the radiation scheme in CAM. The model was able to close the energy budget without explicitly being programmed to do so. 
%Running an \acrfull{les}-model, the increased resolution is able to resolve convective motions, but microphysical processes and turbulence effects still require parameterizations. \citeauthor{Baba2019SpectralModel} used this approach for parameterizing in cloud properties cumulus clouds handling both shallow and deep convection. Obtaining the entrainment rate based on cloud properties from a \acrshort{crm} they built a parameterization valid for both shallow and deep convection. \textit{Entrainment rate} is the rate at which surrounding air penetrates the cloud.\textbf{REWRITE. Preserving the physical properties, it is important that the method handles co-existing phenomena (\cite{Baba2019SpectralModel}). }
% TS : skj√∏nner ikke poenget. 
%Accelerating the speed of computations is always useful. 
%\acrshort{dl} provides suitable methods for emulating \textbf{find a example where a emultor is used to speed up computations, weather prediction, regional model?} 
%TS emulating what?, 
%aimed to accelerate the speed of the heavy computations in \acrshort{crm}. Emulation in the context of computing refers to imitation of one model using another one. In this example the statistical models are used to mimic the behaviour of the physically based \acrshort{crm}. The \acrshort{dl} model performance is restricted by the  \acrshort{crm}, performing at best as good as the \acrshort{crm} (\cite{Rasp2018DeepModels}).

\subsection{ECMWF IFS-Model} \label{sec:era5_param}
%\textbf{Read Forbes in Downloads}
\acrfull{ecmwf}s numerical weather prediction model is named, \acrfull{ifs}. Like all operational systems, the model is continuously improved. The complexity of the cloud cover parameterization is described below in non-mathematical terms. 

Today's implementation is heavily inspired by the prognostic scheme for stratiform and convective cloud for large-scale models, published in 1993 and used operationally since 1995 (\cite{Tiedtke1993}, \cite{Tomkins2005}). %Unique in its time with two prognostic variables cloud fraction and cloud condensate, subdivided into liquid and ice by temperature. 
%The timeevolution of cloud cover is determined by cloud water content and cloud air, which is converted into a prognostic equation for cloud cover. 
\citepaper{Forbes2011AnPrecipitation} upgraded the representation of clouds and precipitation in the \acrshort{ifs}, cycle (36r4).
They extended the number of prognostic variables cloud fraction, cloud liquid water, cloud ice, rain and snow. This improves the physical basis of the moist microphysical schemes and also makes the model more suitable for varying resolutions. Its now more like a high-resolution limited-area \acrshort{nwp} models and \acrshort{crm} (\cite{Forbes2011AnPrecipitation}).
%The scheme handles a comprehensive list of mechanisms,
The scheme also considers cloud formation by large-scale ascent, diabatic cooling, boundary-layer turbulence, advection of cloud water from convective updrafts. Cloud dissipation caused by adiabatic and diabatic heating, mixing with environmental air and depletion of cloud water. It can also generate anvils, allow cirrus clouds to form from convective updrafts and boundary layer clouds (\cite{Tiedtke1993}).
%Before this update there had already been updates on ice sedimentation and autoconversion of snow, subgrid precipitation coverage and evaporation, numerical treatment of cloud condensate and cloud fraction equations and representation of ice supersaturation in cloud free air. 
%Consequently, it is more like high-resolution limited-area \acrshort{nwp} models and \acrshort{crm} (\cite{Forbes2011AnPrecipitation}).
